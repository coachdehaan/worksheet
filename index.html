<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Team Worksheet</title>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>
  <style>
    .selected {
      border: 2px solid;
    }
  </style>
</head>
<body>
  <div id="team-selection">
    <button id="red-team">Red Team</button>
    <button id="blue-team">Blue Team</button>
  </div>
  
  <div id="worksheet">
    <!-- Fill-in-the-blank questions with word bank dropdowns go here -->
  </div>
  
  <div id="results">
    <span>Red Team: <span id="red-score">0</span></span>
    <span>Blue Team: <span id="blue-score">0</span></span>
  </div>

  <script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.18.0/firebase-app.js";
  import { getDatabase, ref, set, onValue } from "https://www.gstatic.com/firebasejs/9.18.0/firebase-database.js";

  const firebaseConfig = {
    apiKey: "AIzaSyC6toyds2tLzyfiINLUXgPeEgSDU2WhwkI",
    authDomain: "worksheet-9f4d8.firebaseapp.com",
    databaseURL: "https://worksheet-9f4d8-default-rtdb.firebaseio.com",
    projectId: "worksheet-9f4d8",
    storageBucket: "worksheet-9f4d8.appspot.com",
    messagingSenderId: "223669808651",
    appId: "1:223669808651:web:7faa06a79f4a187262210e"
  };

  const app = initializeApp(firebaseConfig);
  const db = getDatabase(app);

  // Add the Firebase related code here
</script>


  <script>
   // Variables to store the selected team and the scores
let selectedTeam = null;
const scores = {
  red: 0,
  blue: 0,
};

// Sample questions and answers
const questions = [
  {
    question: "The Skeletal System is made of ___ bones and the connective tissue.",
    correctAnswer: "206",
    wordBank: ["200", "206", "215"],
  },
  {
    question: "Cartilage is a type of ___ connective tissue.",
    correctAnswer: "strong, flexible",
    wordBank: ["rigid, inflexible", "strong, flexible", "elastic, stretchy"],
  },
  {
    question: "A ___ is a band of fibrous, slightly elastic connective tissue that attaches one bone to another.",
    correctAnswer: "ligament",
    wordBank: ["tendon", "ligament", "cartilage"],
  },
  {
    question: "The ___ muscles are attached to bones and cause body movements.",
    correctAnswer: "skeletal",
    wordBank: ["smooth", "skeletal", "cardiac"],
  },
  {
    question: "The ___ is the largest and most complex part of the brain.",
    correctAnswer: "cerebrum",
    wordBank: ["cerebellum", "cerebrum", "brain stem"],
  },
  {
    question: "The Peripheral Nervous System consists of the ___ and the ___ nervous systems.",
    correctAnswer: "autonomic, somatic",
    wordBank: ["central, peripheral", "autonomic, somatic", "sympathetic, parasympathetic"],
  },
];


// Team selection logic
const redTeamButton = document.getElementById("red-team");
const blueTeamButton = document.getElementById("blue-team");

redTeamButton.addEventListener("click", () => {
  selectedTeam = "red";
  redTeamButton.classList.add("selected");
  blueTeamButton.classList.remove("selected");
});

blueTeamButton.addEventListener("click", () => {
  selectedTeam = "blue";
  redTeamButton.classList.remove("selected");
  blueTeamButton.classList.add("selected");
});

// Render the fill-in-the-blank questions
const worksheet = document.getElementById("worksheet");

questions.forEach((questionData, questionIndex) => {
  const questionDiv = document.createElement("div");

  const questionText = document.createElement("p");
  questionText.innerText = questionData.question;
  questionDiv.appendChild(questionText);

  const answerSelect = document.createElement("select");
  questionData.wordBank.forEach((answer) => {
    const option = document.createElement("option");
    option.value = answer;
    option.textContent = answer;
    answerSelect.appendChild(option);
  });

  answerSelect.addEventListener("change", () => {
    if (selectedTeam) {
      const isCorrect = answerSelect.value === questionData.correctAnswer;
      if (isCorrect) {
        scores[selectedTeam]++;
        updateScores();
      }
      answerSelect.disabled = true;
    } else {
      alert("Please select a team first!");
      answerSelect.value
      answerSelect.value = '';
    }
  });

  questionDiv.appendChild(answerSelect);
  worksheet.appendChild(questionDiv);
});

// Update the scores display
const redScoreElement = document.getElementById("red-score");
const blueScoreElement = document.getElementById("blue-score");

function updateScores() {
  redScoreElement.innerText = scores.red;
  blueScoreElement.innerText = scores.blue;
}
function saveScores() {
  const scoresRef = ref(db, "scores");
  set(scoresRef, scores);
}
function listenForScoreUpdates() {
  const scoresRef = ref(db, "scores");
  onValue(scoresRef, (snapshot) => {
    const updatedScores = snapshot.val();
    if (updatedScores) {
      scores = updatedScores;
      updateScores();
    }
  });
}

  </script>
</body>
</html>

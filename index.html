<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Team Worksheet</title>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>
  <style>
    .selected {
      border: 2px solid;
    }
  </style>
</head>
<body>
  <div id="team-selection">
    <button id="red-team">Red Team</button>
    <button id="blue-team">Blue Team</button>
    <select id="student-name">
      <option value="">Select student</option>
      <!-- Add student names here -->
      <option value="John">John</option>
      <option value="Jane">Jane</option>
      <option value="Mike">Mike</option>
    </select>
  </div>
  
  <div id="worksheet">
    <!-- Fill-in-the-blank questions with word bank dropdowns go here -->
    const questions = [
  {
    question: "The Skeletal System is made of ___ bones and the connective tissue.",
    correctAnswer: "206",
    wordBank: ["200", "206", "215"],
  },
  {
    question: "Cartilage is a type of ___ connective tissue.",
    correctAnswer: "strong, flexible",
    wordBank: ["rigid, inflexible", "strong, flexible", "elastic, stretchy"],
  },
  {
    question: "A ___ is a band of fibrous, slightly elastic connective tissue that attaches one bone to another.",
    correctAnswer: "ligament",
    wordBank: ["tendon", "ligament", "cartilage"],
  },
  {
    question: "The ___ muscles are attached to bones and cause body movements.",
    correctAnswer: "skeletal",
    wordBank: ["smooth", "skeletal", "cardiac"],
  },
  {
    question: "The ___ is the largest and most complex part of the brain.",
    correctAnswer: "cerebrum",
    wordBank: ["cerebellum", "cerebrum", "brain stem"],
  },
  {
    question: "The Peripheral Nervous System consists of the ___ and the ___ nervous systems.",
    correctAnswer: "autonomic, somatic",
    wordBank: ["central, peripheral", "autonomic, somatic", "sympathetic, parasympathetic"],
  },
];

  </div>
  
  <div id="results">
    <h3>Individual Scores</h3>
    <ul id="individual-scores"></ul>
    <h3>Team Scores</h3>
    <span>Red Team: <span id="red-score">0</span></span>
    <span>Blue Team: <span id="blue-score">0</span></span>
  </div>

  <script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.18.0/firebase-app.js";
  import { getDatabase, ref, set, onValue, push } from "https://www.gstatic.com/firebasejs/9.18.0/firebase-database.js";

  const firebaseConfig = {
    apiKey: "AIzaSyC6toyds2tLzyfiINLUXgPeEgSDU2WhwkI",
    authDomain: "worksheet-9f4d8.firebaseapp.com",
    databaseURL: "https://worksheet-9f4d8-default-rtdb.firebaseio.com",
    projectId: "worksheet-9f4d8",
    storageBucket: "worksheet-9f4d8.appspot.com",
    messagingSenderId: "223669808651",
    appId: "1:223669808651:web:7faa06a79f4a187262210e"
  };

  const app = initializeApp(firebaseConfig);
  const db = getDatabase(app);

  // Add the Firebase related code here
</script>


  <script>
   // Variables to store the selected team, student name, and the scores
let selectedTeam = null;
let selectedStudent = null;
const scores = {
  red: 0,
  blue: 0,
};

// Sample questions and answers
const questions = [
  {
    question: "The Skeletal System is made of ___ bones and the connective tissue.",
    correctAnswer: "206",
    wordBank: ["200", "206", "215"],
  },
  {
    question: "Cartilage is a type of ___ connective tissue.",
    correctAnswer: "strong, flexible",
    wordBank: ["rigid, inflexible", "strong, flexible", "elastic, stretchy"],
  },
  {
    question: "A ___ is a band of fibrous, slightly elastic connective tissue that attaches one bone to another.",
    correctAnswer: "ligament",
    wordBank: ["tendon", "ligament", "cartilage"],
  },
  {
    question: "The ___ muscles are attached to bones and cause body movements.",
    correctAnswer: "skeletal",
    wordBank: ["smooth", "skeletal", "cardiac"],
  },
  {
    question: "The ___ is the largest and most complex part of the brain.",
    correctAnswer: "cerebrum",
    wordBank: ["cerebellum", "cerebrum", "brain stem"],
  },
  {
    question: "The Peripheral Nervous System consists of the ___ and the ___ nervous systems.",
    correctAnswer: "autonomic, somatic",
    wordBank: ["central, peripheral", "autonomic, somatic", "sympathetic, parasympathetic"],
  },
];


// Team selection logic
const redTeamButton = document.getElementById("red-team");
const blueTeamButton = document.getElementById("blue-team");
const studentNameSelect = document.getElementById("student-name");

redTeamButton.addEventListener("click", () => {
  selectedTeam = "red";
  redTeamButton.classList.add("selected");
  blueTeamButton.classList.remove("selected");
});

blueTeamButton.addEventListener("click", () => {
  selectedTeam = "blue";
  blueTeamButton.classList.add("selected");
  redTeamButton.classList.remove("selected");
});

studentNameSelect.addEventListener("change", (event) => {
  selectedStudent = event.target.value;
});

// Worksheet logic
const worksheetDiv = document.getElementById("worksheet");
questions.forEach((question, index) => {
  // Add question creation logic here
});

// Score display logic
const individualScoresList = document.getElementById("individual-scores");
const redScoreSpan = document.getElementById("red-score");
const blueScoreSpan = document.getElementById("blue-score");

// Firebase logic
const scoresRef = ref(db, "scores");

onValue(scoresRef, (snapshot) => {
  const data = snapshot.val();
  if (!data) return;

  individualScoresList.innerHTML = "";
  scores.red = 0;
  scores.blue = 0;

  Object.entries(data).forEach(([student, { team, correctAnswers }]) => {
    const li = document.createElement("li");
    li.textContent = `${student}: ${correctAnswers}`;
    li.style.color = team;
    individualScoresList.appendChild(li);

    if (team === "red") {
      scores.red += correctAnswers;
    } else if (team === "blue") {
      scores.blue += correctAnswers;
    }
  });

  redScoreSpan.textContent = scores.red;
  blueScoreSpan.textContent = scores.blue;
});

// Function to save the score to Firebase
function saveScore() {
  if (!selectedStudent || !selectedTeam) return;

  const studentRef = ref(scoresRef, selectedStudent);
  set(studentRef, {
    team: selectedTeam,
    correctAnswers: (scores[selectedTeam] += 1),
  });
}

// Call saveScore() whenever a correct answer is selected

</body>
</html>
